include:
  - local: '/scripts/ci-helpers/mirrornet_jobs.gitlab-ci.yml'

variables:
  TOTAL_NUMBER_OF_BLOCKS_TO_PROCESS: 97000000

block-conversion:
  extends: .block-conversion-job-template
  stage: deploy
  when: manual
  variables:
    NUMBER_OF_BLOCKS: ${TOTAL_NUMBER_OF_BLOCKS_TO_PROCESS}

mirrornet-replay:
  extends: .replay-template
  stage: deploy
  when: manual
  needs:
    - job: block-conversion
    - job: generate_mirrornet_config_ini

  variables:
    NUMBER_OF_BLOCKS: ${TOTAL_NUMBER_OF_BLOCKS_TO_PROCESS}
